
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Proyek Sains Data - Multivariate Multistep &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tugas4/main';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Proyek Sains Data - Univariate Single-Step" href="../tugas3/main.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/UTM.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="../_static/UTM.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Dokumentasi Proyek Sains Data
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Bisnis Understanding</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../tugas1/main.html">PENDAHULUAN</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tugas 1 - Multivariate Single-Step Forecasting</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../tugas2/main.html">Proyek Sains Data - Multivariate Single-Step</a></li>



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tugas 2 - Univariate Single-Step Forecasting</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../tugas3/main.html">Proyek Sains Data - Univariate Single-Step</a></li>



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tugas 3 - Multivariate Multi-Step Forecasting</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Proyek Sains Data - Multivariate Multistep</a></li>





</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Ftugas4/main.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/tugas4/main.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Proyek Sains Data - Multivariate Multistep</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Proyek Sains Data - Multivariate Multistep</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-harga-saham">Prediksi Harga Saham</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">DATA UNDERSTANDING</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#requirement">Requirement</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-data">Load Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-data">Deskripsi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#penjelasan-fitur">Penjelasan Fitur</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda">EDA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exploratory-data-analysis-eda-secara-cepat-menggunakan-perpustakaan-pandas-profiling">Exploratory Data Analysis (EDA) secara cepat menggunakan perpustakaan Pandas Profiling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengecek-beberapa-baris-pertama-dataset">Mengecek Beberapa Baris Pertama Dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengecek-format-kolom">Mengecek Format Kolom</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengganti-nama-kolom">Mengganti Nama Kolom</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-jumlah-data-yang-hilang-missing-value">Menghitung Jumlah Data yang Hilang (Missing Value)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#statistik-deskriptif">Statistik Deskriptif</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengkonversi-tanggal">Mengkonversi Tanggal</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengekstrak-tahun-dari-kolom-tanggal">Mengekstrak Tahun Dari Kolom Tanggal</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-jumlah-data-berdasarkan-tahun">Visualisasi Jumlah Data Berdasarkan Tahun</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-rata-rata-data-berdasarkan-tahun">Visualisasi Rata-Rata Data Berdasarkan Tahun</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-jumlah-volume-untuk-tiap-tahunnya">Visualisasi Jumlah Volume Untuk Tiap Tahunnya</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proses-konvert-kolom-vol-menjadi-float">Proses Konvert Kolom Vol. Menjadi Float</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#korelasi-koefisien">Korelasi Koefisien</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preprocessing">Data Preprocessing</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#imputasi-missing-value">Imputasi Missing Value</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-baris-data-yang-memiliki-missing-value">Menampilkan baris data yang memiliki missing value</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-kolom-yang-memiliki-missing-value">Menampilkan kolom yang memiliki missing value</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-total-missing-value-per-kolom">Menampilkan total missing value per kolom</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-persentase-missing-value-per-kolom">Menampilkan persentase missing value per kolom</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#litwise-deletion">Litwise Deletion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rumus-dasar">Rumus Dasar:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#intuisi">Intuisi:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghapus-baris-yang-memiliki-missing-value">Menghapus baris yang memiliki missing value</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cek-data-yang-ganda">Cek Data yang ganda</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#definisi-kolom">Definisi Kolom</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scale-fitur-data">Scale Fitur Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rumus-minmaxscaler">Rumus MinMaxScaler</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#splitting-dataset">Splitting Dataset</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rumus">Rumus</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diberikan">Diberikan:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proses">Proses:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Intuisi:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modeling">Modeling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menggunakan-lstm">Menggunakan LSTM</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lstm-long-short-term-memory"><strong>LSTM (Long Short-Term Memory)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#komponen-utama">Komponen Utama:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rumus-lstm">Rumus LSTM:</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#forget-gate-f-t">1. Forget Gate ((f_t)):</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#input-gate-i-t-dan-candidate-cell-state-tilde-c-t">2. Input Gate ((i_t)) dan Candidate Cell State <span class="math notranslate nohighlight">\(((\tilde{C}_t))\)</span>:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cell-state-c-t">3. Cell State ((C_t)):</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#output-gate-o-t">4. Output Gate ((o_t)):</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#hidden-state-h-t">5. Hidden State ((h_t)):</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#penjelasan">Penjelasan:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagram-aliran-lstm">Diagram Aliran LSTM:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi">Evaluasi</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#save-load-model">Save &amp; Load Model</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deployment-in-huggingface-co">Deployment In Huggingface.co</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#link-https-huggingface-co-spaces-riskinass10-prediksi-saham">Link : https://huggingface.co/spaces/riskinass10/prediksi-saham</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="proyek-sains-data-multivariate-multistep">
<h1>Proyek Sains Data - Multivariate Multistep<a class="headerlink" href="#proyek-sains-data-multivariate-multistep" title="Link to this heading">#</a></h1>
<hr>
<section id="prediksi-harga-saham">
<h2>Prediksi Harga Saham<a class="headerlink" href="#prediksi-harga-saham" title="Link to this heading">#</a></h2>
<p>Nama : Riskina Salsabilla Bayzura</p>
<p>NIM  : 220411100015</p>
<p>Kelas : IF5D</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="data-understanding">
<h1>DATA UNDERSTANDING<a class="headerlink" href="#data-understanding" title="Link to this heading">#</a></h1>
<section id="requirement">
<h2>Requirement<a class="headerlink" href="#requirement" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">mean</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>

<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">BaggingRegressor</span><span class="p">,</span> <span class="n">RandomForestRegressor</span><span class="p">,</span> <span class="n">GradientBoostingRegressor</span><span class="p">,</span> <span class="n">VotingRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_absolute_error</span><span class="p">,</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">r2_score</span>

<span class="kn">from</span> <span class="nn">tensorflow</span> <span class="kn">import</span> <span class="n">keras</span>
<span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>
<span class="kn">from</span> <span class="nn">tensorflow.keras.models</span> <span class="kn">import</span> <span class="n">Sequential</span>
<span class="kn">from</span> <span class="nn">tensorflow.keras.layers</span> <span class="kn">import</span> <span class="n">Dense</span><span class="p">,</span><span class="n">LSTM</span><span class="p">,</span><span class="n">Activation</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">array</span> <span class="p">,</span> <span class="n">hstack</span>
<span class="kn">from</span> <span class="nn">tensorflow</span> <span class="kn">import</span> <span class="n">keras</span>
<span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>

<span class="c1"># from google.colab import drive</span>
<span class="c1"># drive.mount(&#39;/content/drive&#39;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">6</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">BaggingRegressor</span><span class="p">,</span> <span class="n">RandomForestRegressor</span><span class="p">,</span> <span class="n">GradientBoostingRegressor</span><span class="p">,</span> <span class="n">VotingRegressor</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;plotly&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="load-data">
<h2>Load Data<a class="headerlink" href="#load-data" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;/content/drive/MyDrive/PSD/Tugas3/Data_Historis_TLKM.csv&#39;</span><span class="p">)</span>

<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-fa0dd9bb-ec03-4c1b-bfc0-0c79f5620e28" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tanggal</th>
      <th>Terakhir</th>
      <th>Pembukaan</th>
      <th>Tertinggi</th>
      <th>Terendah</th>
      <th>Vol.</th>
      <th>Perubahan%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>02/01/2019</td>
      <td>3.73</td>
      <td>3.75</td>
      <td>3.76</td>
      <td>3.70</td>
      <td>31,36M</td>
      <td>-0,53%</td>
    </tr>
    <tr>
      <th>1</th>
      <td>03/01/2019</td>
      <td>3.74</td>
      <td>3.71</td>
      <td>3.77</td>
      <td>3.69</td>
      <td>83,84M</td>
      <td>0,27%</td>
    </tr>
    <tr>
      <th>2</th>
      <td>04/01/2019</td>
      <td>3.71</td>
      <td>3.69</td>
      <td>3.74</td>
      <td>3.69</td>
      <td>73,94M</td>
      <td>-0,80%</td>
    </tr>
    <tr>
      <th>3</th>
      <td>07/01/2019</td>
      <td>3.77</td>
      <td>3.76</td>
      <td>3.79</td>
      <td>3.75</td>
      <td>83,68M</td>
      <td>1,62%</td>
    </tr>
    <tr>
      <th>4</th>
      <td>08/01/2019</td>
      <td>3.80</td>
      <td>3.77</td>
      <td>3.80</td>
      <td>3.75</td>
      <td>67,96M</td>
      <td>0,80%</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1385</th>
      <td>18/09/2024</td>
      <td>3.12</td>
      <td>3.12</td>
      <td>3.13</td>
      <td>3.10</td>
      <td>NaN</td>
      <td>0,97%</td>
    </tr>
    <tr>
      <th>1386</th>
      <td>19/09/2024</td>
      <td>3.14</td>
      <td>3.14</td>
      <td>3.15</td>
      <td>3.12</td>
      <td>NaN</td>
      <td>0,64%</td>
    </tr>
    <tr>
      <th>1387</th>
      <td>20/09/2024</td>
      <td>3.15</td>
      <td>3.15</td>
      <td>3.17</td>
      <td>3.12</td>
      <td>NaN</td>
      <td>0,32%</td>
    </tr>
    <tr>
      <th>1388</th>
      <td>23/09/2024</td>
      <td>3.17</td>
      <td>3.15</td>
      <td>3.18</td>
      <td>3.13</td>
      <td>NaN</td>
      <td>0,63%</td>
    </tr>
    <tr>
      <th>1389</th>
      <td>24/09/2024</td>
      <td>3.16</td>
      <td>3.18</td>
      <td>3.18</td>
      <td>3.15</td>
      <td>92,26M</td>
      <td>-0,32%</td>
    </tr>
  </tbody>
</table>
<p>1390 rows × 7 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-fa0dd9bb-ec03-4c1b-bfc0-0c79f5620e28')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-fa0dd9bb-ec03-4c1b-bfc0-0c79f5620e28 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-fa0dd9bb-ec03-4c1b-bfc0-0c79f5620e28');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-c868ebf8-a7c3-494d-9c30-d94079ddb779">
  <button class="colab-df-quickchart" onclick="quickchart('df-c868ebf8-a7c3-494d-9c30-d94079ddb779')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-c868ebf8-a7c3-494d-9c30-d94079ddb779 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_69d8440a-f5cc-42ab-9261-f9a1cde55bfb">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_69d8440a-f5cc-42ab-9261-f9a1cde55bfb button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="deskripsi-data">
<h2>Deskripsi Data<a class="headerlink" href="#deskripsi-data" title="Link to this heading">#</a></h2>
<p>Berdasarkan studi kasus saya, dataset yang akan saya gunakan merupakan data historis harga saham PT Telkom Indonesia Tbk (TLKM). Data ini berisi informasi tentang harga saham TLKM dari waktu ke waktu, termasuk harga penutupan, harga pembukaan, harga tertinggi, harga terendah, volume perdagangan, dan perubahan harga dalam persentase.Setiap baris data merepresentasikan data saham pada satu hari.</p>
<p>Informasi penting yang terdapat pada dataset ini adalah:</p>
<ul class="simple">
<li><p>Harga: Informasi harga saham dicatat dalam beberapa aspek yaitu harga terakhir, harga pembukaan, harga tertinggi, dan harga terendah dalam satu hari. Informasi ini menunjukkan fluktuasi harga saham TLKM dalam periode waktu tersebut.</p></li>
<li><p>Volume Perdagangan: Fitur ‘Vol.’ menunjukkan jumlah saham TLKM yang diperdagangkan pada hari itu. Volume perdagangan yang tinggi bisa mengindikasikan adanya aktivitas jual-beli yang aktif.</p></li>
<li><p>Perubahan Harga: Fitur ‘Perubahan %’ memberikan gambaran tentang persentase perubahan harga saham TLKM pada hari itu dibandingkan dengan hari sebelumnya. Nilainya bisa positif (menunjukkan kenaikan harga) atau negatif (menunjukkan penurunan harga).</p></li>
<li><p>Tanggal: Data ini menunjukkan kapan informasi harga saham tersebut direkam. Dengan informasi tanggal, saya dapat melakukan analisis berdasarkan waktu seperti tren pergerakan harga dalam periode tertentu.</p></li>
</ul>
<p><strong>Tujuan</strong>:</p>
<p>Tujuan saya menggunakan dataset ini adalah untuk melakukan prediksi harga saham TLKM di masa mendatang dengan menggunakan metode Machine Learning Long Short-Term Memory (LSTM). Dengan mempelajari pola historis dari data ini, model machine learning dapat dilatih untuk memperkirakan harga saham di hari berikutnya.</p>
<p><strong>Tantangan</strong>:</p>
<p>Salah satu tantangan dalam mengolah dataset ini adalah tipe data pada fitur ‘Vol.’ dan ‘Perubahan %’ yang masih berupa ‘object’ dan perlu diubah ke tipe data numerik (float) sebelum digunakan untuk membuat model.</p>
<p><strong>Kesimpulan</strong>:</p>
<p>Dataset ini memberikan informasi yang cukup lengkap tentang pergerakan harga saham TLKM. Dengan melakukan analisis dan pemrosesan data yang tepat, dataset ini dapat digunakan untuk membangun model prediksi harga saham yang akurat.</p>
</section>
<section id="penjelasan-fitur">
<h2>Penjelasan Fitur<a class="headerlink" href="#penjelasan-fitur" title="Link to this heading">#</a></h2>
<p>Dari dataset yang kami miliki terdapat beberapa attribut sebagai berikut:</p>
<ol class="arabic simple">
<li><p><strong>Tanggal</strong>:
Data ini berisi tanggal saham dengan format Tanggal-Bulan-Tahun. Data ini memiliki tanggal minimum 01 Januari 2019 dan tanggal maksimum 29 September 2024. Tipe datanya adalah datetime (Nominal).</p></li>
<li><p><strong>Terakhir</strong>: Menunjukkan harga penutupan saham pada hari tersebut. Tipe datanya adalah float64 (Numerik).</p></li>
<li><p><strong>Pembukaan</strong>: Menunjukkan harga pembukaan saham pada hari tersebut. Tipe datanya adalah float64 (Numerik).</p></li>
<li><p><strong>Tinggi</strong>: Menunjukkan harga saham tertinggi yang dicapai pada hari tersebut. Tipe datanya adalah float64 (Numerik).</p></li>
<li><p><strong>Rendah</strong>: Menunjukkan harga terendah saham yang dicapai pada hari tersebut. Tipe datanya adalah float64 (Numerik).</p></li>
<li><p><strong>Vol. (Volume)</strong>: Menunjukkan volume perdagangan saham pada hari tersebut, yaitu jumlah saham yang diperdagangkan. Tipe datanya adalah obyek karena mengandung karakter non-numerik.</p></li>
<li><p><strong>Perubahan %</strong> : Menunjukkan persentase perubahan harga saham pada hari tersebut dibandingkan dengan hari sebelumnya. Tipe datanya adalah obyek karena mengandung karakter non-numerik.</p></li>
</ol>
</section>
<section id="eda">
<h2>EDA<a class="headerlink" href="#eda" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;shape: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;count of rows with missing values: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># 0</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;columns: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>shape: (1390, 7)
count of rows with missing values: 5
columns: Index([&#39;Tanggal&#39;, &#39;Terakhir&#39;, &#39;Pembukaan&#39;, &#39;Tertinggi&#39;, &#39;Terendah&#39;, &#39;Vol.&#39;,
       &#39;Perubahan%&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Dari informasi di atas kita mendapatkan informasi mengenai beberapa hal, antara lain:</p>
<ol class="arabic simple">
<li><p>df.shape =&gt; menampilkan jumlah kolom dan baris dari dataset, terdapat <strong>1390</strong> baris dan <strong>7</strong> kolom.</p></li>
<li><p>Terdapat missing values sebanyak <strong>5</strong></p></li>
<li><p>Isi kolomnya antara lain =&gt; Tanggal, Terakhir, Pembukaan, Tertinggi, Terendah, Vol., Perubahan%</p></li>
</ol>
<section id="exploratory-data-analysis-eda-secara-cepat-menggunakan-perpustakaan-pandas-profiling">
<h3>Exploratory Data Analysis (EDA) secara cepat menggunakan perpustakaan Pandas Profiling<a class="headerlink" href="#exploratory-data-analysis-eda-secara-cepat-menggunakan-perpustakaan-pandas-profiling" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># profile = ProfileReport(df, title=f&quot;Train dataset&quot;)</span>
<span class="c1"># profile.to_notebook_iframe()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="mengecek-beberapa-baris-pertama-dataset">
<h3>Mengecek Beberapa Baris Pertama Dataset<a class="headerlink" href="#mengecek-beberapa-baris-pertama-dataset" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-be499097-2977-49de-9505-d5c674b06ded" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tanggal</th>
      <th>Terakhir</th>
      <th>Pembukaan</th>
      <th>Tertinggi</th>
      <th>Terendah</th>
      <th>Vol.</th>
      <th>Perubahan%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>02/01/2019</td>
      <td>3.73</td>
      <td>3.75</td>
      <td>3.76</td>
      <td>3.70</td>
      <td>31,36M</td>
      <td>-0,53%</td>
    </tr>
    <tr>
      <th>1</th>
      <td>03/01/2019</td>
      <td>3.74</td>
      <td>3.71</td>
      <td>3.77</td>
      <td>3.69</td>
      <td>83,84M</td>
      <td>0,27%</td>
    </tr>
    <tr>
      <th>2</th>
      <td>04/01/2019</td>
      <td>3.71</td>
      <td>3.69</td>
      <td>3.74</td>
      <td>3.69</td>
      <td>73,94M</td>
      <td>-0,80%</td>
    </tr>
    <tr>
      <th>3</th>
      <td>07/01/2019</td>
      <td>3.77</td>
      <td>3.76</td>
      <td>3.79</td>
      <td>3.75</td>
      <td>83,68M</td>
      <td>1,62%</td>
    </tr>
    <tr>
      <th>4</th>
      <td>08/01/2019</td>
      <td>3.80</td>
      <td>3.77</td>
      <td>3.80</td>
      <td>3.75</td>
      <td>67,96M</td>
      <td>0,80%</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-be499097-2977-49de-9505-d5c674b06ded')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-be499097-2977-49de-9505-d5c674b06ded button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-be499097-2977-49de-9505-d5c674b06ded');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-8eed38e2-d75b-4fa9-b3a2-37f553b16af4">
  <button class="colab-df-quickchart" onclick="quickchart('df-8eed38e2-d75b-4fa9-b3a2-37f553b16af4')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-8eed38e2-d75b-4fa9-b3a2-37f553b16af4 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<p>df.head di atas menampilkan 5 data yang berada pada indeks atas, terdapat beberapa hal yang perlu dilakukan perubahan, antara lain:</p>
<ol class="arabic">
<li><p>Kolom Tanggal</p>
<p>Perlu dilakukan perubahan format tanggal, agar dapat dibaca mesin dengan mudah.</p>
</li>
<li><p>Kolom Vol.</p>
<p>Perubahan nama kolom dari Vol. menjadi Volume agar mudah mengidentifikasi nama kolomnya, selain itu format dari isi kolomnya masih terdapat string (‘M’) yang mana perlu dilakukan perubahan menjadi 0 sesuai data awalnya, (‘M’ = 1.000.000.000).</p>
</li>
<li><p>Kolom Perubahan</p>
<p>Kemungkinan besar kita tidak akan menggunakan kolom ini, sehingga nantinya akan kita hapus, sebelum itu akan kita cek korelasinya dengan fitur lain agar mengetahui keterkaitannya dengan fitur lain, sehingga apabila kita hapus tidak akan berdampak dengan fitur lainnya.</p>
</li>
</ol>
</section>
<section id="mengecek-format-kolom">
<h3>Mengecek Format Kolom<a class="headerlink" href="#mengecek-format-kolom" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1390 entries, 0 to 1389
Data columns (total 7 columns):
 #   Column      Non-Null Count  Dtype  
---  ------      --------------  -----  
 0   Tanggal     1390 non-null   object 
 1   Terakhir    1390 non-null   float64
 2   Pembukaan   1390 non-null   float64
 3   Tertinggi   1390 non-null   float64
 4   Terendah    1390 non-null   float64
 5   Vol.        1385 non-null   object 
 6   Perubahan%  1390 non-null   object 
dtypes: float64(4), object(3)
memory usage: 76.1+ KB
</pre></div>
</div>
</div>
</div>
<p>Dari hasil di atas kita dapat melihat bahwa Kolom Vol. jumlahnya hanya <strong>1385</strong> data dibanding yang lainnya yaitu <strong>1390</strong> yang berarti terdapat 5 data yang hilang. Selain itu, datatypenya masih berupa object yang seharusnya adalah float64 karena nantinya akan dilakukan perhitungan untuk Kolom Vol.</p>
</section>
<section id="mengganti-nama-kolom">
<h3>Mengganti Nama Kolom<a class="headerlink" href="#mengganti-nama-kolom" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Terakhir&#39;</span><span class="p">:</span> <span class="s1">&#39;Penutupan&#39;</span><span class="p">,</span> <span class="s1">&#39;Vol.&#39;</span><span class="p">:</span><span class="s1">&#39;Volume&#39;</span><span class="p">,</span> <span class="s1">&#39;Perubahan%&#39;</span><span class="p">:</span> <span class="s1">&#39;Perubahan&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<p>Disini saya mengganti nama-nama kolom, untuk memudahkan pemanggilan nama tiap kolom guna dilakukannya perhitungan nantinya.</p>
</section>
<section id="menghitung-jumlah-data-yang-hilang-missing-value">
<h3>Menghitung Jumlah Data yang Hilang (Missing Value)<a class="headerlink" href="#menghitung-jumlah-data-yang-hilang-missing-value" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">(),</span><span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;Reds&#39;</span><span class="p">,</span><span class="n">cbar</span> <span class="o">=</span> <span class="kc">False</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/e938b90dc99c1f1b11b63de5532387dc95bd0a4f257bd1a4c5db42d557129db7.png" src="../_images/e938b90dc99c1f1b11b63de5532387dc95bd0a4f257bd1a4c5db42d557129db7.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Tanggal</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Penutupan</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Pembukaan</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Tertinggi</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Terendah</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Volume</th>
      <td>5</td>
    </tr>
    <tr>
      <th>Perubahan</th>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div><br><label><b>dtype:</b> int64</label></div></div>
</div>
<p>Setelah kita cek, memang benar bahwa Kolom Vol. memiliki missing values sejumlah <strong>5 data</strong>. Missing value akan diperbaiki saat memasuki data preprocessing.</p>
</section>
<section id="statistik-deskriptif">
<h3>Statistik Deskriptif<a class="headerlink" href="#statistik-deskriptif" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-4350d0a3-20ee-41d9-b876-c36284d5591c" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Penutupan</th>
      <th>Pembukaan</th>
      <th>Tertinggi</th>
      <th>Terendah</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1390.000000</td>
      <td>1390.000000</td>
      <td>1390.000000</td>
      <td>1390.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3.721345</td>
      <td>3.723511</td>
      <td>3.763662</td>
      <td>3.680288</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.490229</td>
      <td>0.488343</td>
      <td>0.487201</td>
      <td>0.488153</td>
    </tr>
    <tr>
      <th>min</th>
      <td>2.560000</td>
      <td>2.550000</td>
      <td>2.590000</td>
      <td>2.450000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.310000</td>
      <td>3.302500</td>
      <td>3.360000</td>
      <td>3.260000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3.800000</td>
      <td>3.800000</td>
      <td>3.840000</td>
      <td>3.770000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>4.080000</td>
      <td>4.070000</td>
      <td>4.120000</td>
      <td>4.030000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>4.770000</td>
      <td>4.850000</td>
      <td>4.850000</td>
      <td>4.720000</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-4350d0a3-20ee-41d9-b876-c36284d5591c')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-4350d0a3-20ee-41d9-b876-c36284d5591c button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-4350d0a3-20ee-41d9-b876-c36284d5591c');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-939a03e3-3004-49d4-956d-33d52d842781">
  <button class="colab-df-quickchart" onclick="quickchart('df-939a03e3-3004-49d4-956d-33d52d842781')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-939a03e3-3004-49d4-956d-33d52d842781 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<p>Tabel di atas menunjukkan statistik deskriptif untuk masing-masing kolom, antara lain: Penutupan, Pembukaan, Tertinggi, Terendah. Untuk kolom Volume dan Perubahan tidak diikut sertakan pada code ini karena dua kolom tersebut masih berupa object dan bukan float.</p>
</section>
<section id="mengkonversi-tanggal">
<h3>Mengkonversi Tanggal<a class="headerlink" href="#mengkonversi-tanggal" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">],</span> <span class="n">dayfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tanggal</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-01-02</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-01-03</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-01-04</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-01-07</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-01-08</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>1385</th>
      <td>2024-09-18</td>
    </tr>
    <tr>
      <th>1386</th>
      <td>2024-09-19</td>
    </tr>
    <tr>
      <th>1387</th>
      <td>2024-09-20</td>
    </tr>
    <tr>
      <th>1388</th>
      <td>2024-09-23</td>
    </tr>
    <tr>
      <th>1389</th>
      <td>2024-09-24</td>
    </tr>
  </tbody>
</table>
<p>1390 rows × 1 columns</p>
</div><br><label><b>dtype:</b> datetime64[ns]</label></div></div>
</div>
<p>Dilakukan konversi tanggal untuk mengubah formatnya menjadi ‘dd-mm-yyyy’ agar memudahkan kita untuk mengambil informasinya.</p>
</section>
<section id="mengekstrak-tahun-dari-kolom-tanggal">
<h3>Mengekstrak Tahun Dari Kolom Tanggal<a class="headerlink" href="#mengekstrak-tahun-dari-kolom-tanggal" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tahun&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tahun&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tahun</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>1385</th>
      <td>2024</td>
    </tr>
    <tr>
      <th>1386</th>
      <td>2024</td>
    </tr>
    <tr>
      <th>1387</th>
      <td>2024</td>
    </tr>
    <tr>
      <th>1388</th>
      <td>2024</td>
    </tr>
    <tr>
      <th>1389</th>
      <td>2024</td>
    </tr>
  </tbody>
</table>
<p>1390 rows × 1 columns</p>
</div><br><label><b>dtype:</b> int32</label></div></div>
</div>
<p>Disini saya ambil data untuk tahun saja, agar nanti dapat kita buat visualisasi persebaran datanya, tahun ini nantinya akan dijadikan salah satu sumbunya.</p>
</section>
<section id="visualisasi-jumlah-data-berdasarkan-tahun">
<h3>Visualisasi Jumlah Data Berdasarkan Tahun<a class="headerlink" href="#visualisasi-jumlah-data-berdasarkan-tahun" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_group_tahun</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Tahun&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_numerik</span> <span class="o">=</span> <span class="n">df_group_tahun</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;number&#39;</span><span class="p">)</span>

<span class="n">df_numerik</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/975c24b355cfb8371af48b8811a0962655a2f0dac5780d4f3441583185bf108a.png" src="../_images/975c24b355cfb8371af48b8811a0962655a2f0dac5780d4f3441583185bf108a.png" />
</div>
</div>
<p>Diagram di atas merupakan visualisasi dari banyaknya data berdasarkan tahun yang tersedia, dapat dilihat bahwa jumlah data tiap fiturnya pada awal tahun 2019 menuju tahun 2020 mengalami penurunan yang signifikan, kemudian pada awal tahun 2020 hingga tahun 2022 mengalami kenaikan yang cukup stabil, dan berlanjut pada awal tahun 2023 mengalami penurunan yang cukup drastis.</p>
</section>
<section id="visualisasi-rata-rata-data-berdasarkan-tahun">
<h3>Visualisasi Rata-Rata Data Berdasarkan Tahun<a class="headerlink" href="#visualisasi-rata-rata-data-berdasarkan-tahun" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_group_tahun</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Tahun&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_numerik</span> <span class="o">=</span> <span class="n">df_group_tahun</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;number&#39;</span><span class="p">)</span>

<span class="n">df_numerik</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/1952514cbea89c3d0c26f824d72fca35e45a92a196003be5296e63c5313cd33e.png" src="../_images/1952514cbea89c3d0c26f824d72fca35e45a92a196003be5296e63c5313cd33e.png" />
</div>
</div>
<p>Diagram tersebut memvisualisasikan rata-rata nilai dari fitur-fitur numerik (Penutupan, Pembukaan, Tertinggi, Terendah) pada dataset harga saham PT Telkom Indonesia Tbk (TLKM) untuk setiap tahunnya.</p>
</section>
<section id="visualisasi-jumlah-volume-untuk-tiap-tahunnya">
<h3>Visualisasi Jumlah Volume Untuk Tiap Tahunnya<a class="headerlink" href="#visualisasi-jumlah-volume-untuk-tiap-tahunnya" title="Link to this heading">#</a></h3>
</section>
<section id="proses-konvert-kolom-vol-menjadi-float">
<h3>Proses Konvert Kolom Vol. Menjadi Float<a class="headerlink" href="#proses-konvert-kolom-vol-menjadi-float" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">convert_vol_to_float</span><span class="p">(</span><span class="n">vol</span><span class="p">):</span>
  <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vol</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
    <span class="k">return</span> <span class="n">vol</span>

  <span class="n">vol</span> <span class="o">=</span> <span class="n">vol</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>

  <span class="k">if</span> <span class="s1">&#39;M&#39;</span> <span class="ow">in</span> <span class="n">vol</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">vol</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="o">*</span> <span class="mi">1_000_000</span>
  <span class="k">elif</span> <span class="s1">&#39;K&#39;</span> <span class="ow">in</span> <span class="n">vol</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">vol</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="o">*</span> <span class="mi">1_000</span>
  <span class="k">elif</span> <span class="s1">&#39;B&#39;</span> <span class="ow">in</span> <span class="n">vol</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">vol</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="o">*</span> <span class="mi">1_000_000_000</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
      <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">vol</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">vol</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Volume&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Volume&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">convert_vol_to_float</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Tujuan dari kode ini adalah untuk mengubah tipe data kolom ‘Vol.’ dari object menjadi float. Hal ini perlu dilakukan karena kolom ‘Vol.’ berisi informasi volume perdagangan saham yang penting untuk analisis dan pemodelan, tetapi masih mengandung karakter non-numerik (seperti “M” untuk juta dan “K” untuk ribu). Dengan mengubahnya menjadi float, kita dapat melakukan perhitungan matematika dan menggunakannya dalam algoritma machine learning.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_group_tahun</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Tahun&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_group_tahun</span><span class="p">[</span><span class="s1">&#39;Volume&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9a6b06e5a14a94921166a0aaa8a8087d2a116980338fc14f6f9e1c2421f05da4.png" src="../_images/9a6b06e5a14a94921166a0aaa8a8087d2a116980338fc14f6f9e1c2421f05da4.png" />
</div>
</div>
<p>Visualisasi jumlah volume untuk tiap tahunnya, kolom volumen ini saya bedakan dikarenakan untuk memastikan bahwa setiap kolom diproses dengan benar sesuai dengan tipe data dan karakteristiknya, sehingga perhitungan dapat dilakukan dengan akurat dan menghindari error.</p>
</section>
<section id="korelasi-koefisien">
<h3>Korelasi Koefisien<a class="headerlink" href="#korelasi-koefisien" title="Link to this heading">#</a></h3>
<p>Korelasi Pearson adalah ukuran statistik yang digunakan untuk menentukan kekuatan dan arah hubungan linier antara dua variabel kontinu. Nilai koefisien korelasi Pearson (dilambangkan sebagai <strong>r</strong>) berkisar antara -1 hingga 1:</p>
<ul class="simple">
<li><p><strong>r = 1</strong>: Hubungan linier positif sempurna. Ketika satu variabel meningkat, variabel lainnya meningkat secara proporsional.</p></li>
<li><p><strong>r = -1</strong>: Hubungan linier negatif sempurna. Ketika satu variabel meningkat, variabel lainnya menurun secara proporsional.</p></li>
<li><p><strong>r = 0</strong>: Tidak ada hubungan linier antara dua variabel.</p></li>
</ul>
<p>Rumus untuk korelasi Pearson adalah:</p>
<p><span class="math notranslate nohighlight">\(
r = \frac{\sum (X_i - \bar{X})(Y_i - \bar{Y})}{\sqrt{\sum (X_i - \bar{X})^2 \sum (Y_i - \bar{Y})^2}}
\)</span></p>
<p>Dimana:</p>
<ul class="simple">
<li><p>(X_i) dan (Y_i) adalah titik data individual dari dua variabel.</p></li>
<li><p><span class="math notranslate nohighlight">\((\bar{X})\)</span> dan <span class="math notranslate nohighlight">\((\bar{Y})\)</span> masing-masing adalah rata-rata dari variabel (X) dan (Y).</p></li>
</ul>
<p>Sebelum melakukan visualisasi korelasi antar sesama fitur, perlu dilakukan kovert kolom perubahan yang tipe data awalnya adalah string dikarenakan terdapat ‘%’ pada datanya lalu saya ubah menjadi float agar tidak terjadi error nantinya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Perubahan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Perubahan&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;%&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Perubahan&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Perubahan</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.0053</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.0027</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.0080</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.0162</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.0080</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>1385</th>
      <td>0.0097</td>
    </tr>
    <tr>
      <th>1386</th>
      <td>0.0064</td>
    </tr>
    <tr>
      <th>1387</th>
      <td>0.0032</td>
    </tr>
    <tr>
      <th>1388</th>
      <td>0.0063</td>
    </tr>
    <tr>
      <th>1389</th>
      <td>-0.0032</td>
    </tr>
  </tbody>
</table>
<p>1390 rows × 1 columns</p>
</div><br><label><b>dtype:</b> float64</label></div></div>
</div>
<p>Di atas merupakan hasil dari konvert yang telah saya lakukan yaitu dengan menghilangkan symbol ‘%’ namun tidak mengubah inti dari isi datanya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Menghitung matriks korelasi</span>
<span class="n">correlation_matrix</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>

<span class="c1"># Membuat heatmap</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>  <span class="c1"># Mengatur ukuran gambar</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.2f&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Korelasi Antara Fitur-Fitur&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/532bd466b4b1f8acc3dff38ace00f85fcb0d068d1217b10ecdb7b2b15dac49d8.png" src="../_images/532bd466b4b1f8acc3dff38ace00f85fcb0d068d1217b10ecdb7b2b15dac49d8.png" />
</div>
</div>
<p>Dari hasil visualisasi korelasi fitur-fitur di atas, saya mendapatkan kesimpulan antara lain:</p>
<ol class="arabic simple">
<li><p>Korelasi Positif Kuat: Terdapat korelasi positif yang kuat antara fitur-fiturnya, yaitu ‘Penutupan’, ‘Pembukaan’, ‘Tertinggi’, dan ‘Terendah’. Hal ini menunjukkan bahwa ketika salah satu fitur harga naik, fitur harga lainnya cenderung naik juga. Korelasi yang kuat ini logis karena fitur-fitur ini saling terkait dalam pergerakan harga saham harian.</p></li>
<li><p>Korelasi Lemah: ‘Volume’ dan ‘Perubahan’ memiliki korelasi yang relatif lemah dengan fitur-fitur lainnya. Artinya, perubahan volume perdagangan atau persentase perubahan harga tidak memiliki pengaruh yang signifikan terhadap harga saham secara langsung.</p></li>
<li><p>Korelasi Negatif: ‘Tahun’ menunjukkan korelasi negatif yang lemah dengan beberapa fitur. Ini bisa menunjukkan adanya tren penurunan harga saham dalam rentang waktu yang diwakili oleh data (2019-2024), meskipun korelasinya tidak terlalu kuat.</p></li>
</ol>
<p>Secara umum, visualisasi korelasi menunjukkan bahwa fitur-fitur (Penutupan, Pembukaan, Tertinggi, Terendah) memiliki hubungan yang erat, sedangkan Volume dan Perubahan memiliki hubungan yang lebih independen dengan fitur-fitur lainnya. Oleh karena itu, pada proses selanjutnya akan dilakukan penghapusan Kolom Perubahan dan Kolom Volume karena tidak akan terlalu berguna.</p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="data-preprocessing">
<h1>Data Preprocessing<a class="headerlink" href="#data-preprocessing" title="Link to this heading">#</a></h1>
<section id="imputasi-missing-value">
<h2>Imputasi Missing Value<a class="headerlink" href="#imputasi-missing-value" title="Link to this heading">#</a></h2>
<section id="menampilkan-baris-data-yang-memiliki-missing-value">
<h3>Menampilkan baris data yang memiliki missing value<a class="headerlink" href="#menampilkan-baris-data-yang-memiliki-missing-value" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missing_data</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>

<span class="n">missing_data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-85ab5d06-cc13-4635-a9e9-400982c52058" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tanggal</th>
      <th>Penutupan</th>
      <th>Pembukaan</th>
      <th>Tertinggi</th>
      <th>Terendah</th>
      <th>Volume</th>
      <th>Perubahan</th>
      <th>Tahun</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1384</th>
      <td>2024-09-17</td>
      <td>3.09</td>
      <td>3.12</td>
      <td>3.13</td>
      <td>3.08</td>
      <td>NaN</td>
      <td>-0.0064</td>
      <td>2024</td>
    </tr>
    <tr>
      <th>1385</th>
      <td>2024-09-18</td>
      <td>3.12</td>
      <td>3.12</td>
      <td>3.13</td>
      <td>3.10</td>
      <td>NaN</td>
      <td>0.0097</td>
      <td>2024</td>
    </tr>
    <tr>
      <th>1386</th>
      <td>2024-09-19</td>
      <td>3.14</td>
      <td>3.14</td>
      <td>3.15</td>
      <td>3.12</td>
      <td>NaN</td>
      <td>0.0064</td>
      <td>2024</td>
    </tr>
    <tr>
      <th>1387</th>
      <td>2024-09-20</td>
      <td>3.15</td>
      <td>3.15</td>
      <td>3.17</td>
      <td>3.12</td>
      <td>NaN</td>
      <td>0.0032</td>
      <td>2024</td>
    </tr>
    <tr>
      <th>1388</th>
      <td>2024-09-23</td>
      <td>3.17</td>
      <td>3.15</td>
      <td>3.18</td>
      <td>3.13</td>
      <td>NaN</td>
      <td>0.0063</td>
      <td>2024</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-85ab5d06-cc13-4635-a9e9-400982c52058')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-85ab5d06-cc13-4635-a9e9-400982c52058 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-85ab5d06-cc13-4635-a9e9-400982c52058');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-6e89dc99-b6ff-4bb3-afd9-50e1232bebd5">
  <button class="colab-df-quickchart" onclick="quickchart('df-6e89dc99-b6ff-4bb3-afd9-50e1232bebd5')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-6e89dc99-b6ff-4bb3-afd9-50e1232bebd5 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_e1e0807b-4c08-4579-87f3-008f94624c98">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('missing_data')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_e1e0807b-4c08-4579-87f3-008f94624c98 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('missing_data');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<p>Dapat dilihat bahwa pada index 1384-1388 pada kolom Vol. terdapat 5 data yang berstatus ‘NaN’.</p>
</section>
<section id="menampilkan-kolom-yang-memiliki-missing-value">
<h3>Menampilkan kolom yang memiliki missing value<a class="headerlink" href="#menampilkan-kolom-yang-memiliki-missing-value" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missing_columns</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">()]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="n">missing_columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Volume&#39;]
</pre></div>
</div>
</div>
</div>
<p>Kita pastikan kolom mana yang memeiliki missing values, dan hasilnya adalah Kolom Vol. saja yang terdapat missing value.</p>
</section>
<section id="menampilkan-total-missing-value-per-kolom">
<h3>Menampilkan total missing value per kolom<a class="headerlink" href="#menampilkan-total-missing-value-per-kolom" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missing_count</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">missing_count</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Tanggal</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Penutupan</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Pembukaan</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Tertinggi</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Terendah</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Volume</th>
      <td>5</td>
    </tr>
    <tr>
      <th>Perubahan</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Tahun</th>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div><br><label><b>dtype:</b> int64</label></div></div>
</div>
<p>Total missing values pada Kolom Vol. berjumlah 5 data.</p>
</section>
<section id="menampilkan-persentase-missing-value-per-kolom">
<h3>Menampilkan persentase missing value per kolom<a class="headerlink" href="#menampilkan-persentase-missing-value-per-kolom" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missing_percentage</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">missing_percentage</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Tanggal</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Penutupan</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Pembukaan</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Tertinggi</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Terendah</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Volume</th>
      <td>0.359712</td>
    </tr>
    <tr>
      <th>Perubahan</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Tahun</th>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div><br><label><b>dtype:</b> float64</label></div></div>
</div>
<p>Presentasi missing values pada Kolom Vol. hanya sebesar <strong>0.359712</strong>, sehingga saya memutuskan untuk menangani missing values dengan menggunakan <em>Litwise Deletion</em> yaitu metode dalam statistik untuk menangani data yang hilang dengan cara menghapus seluruh catatan yang mengandung nilai yang hilang. Sehingga saya akan <strong>menghapus data pada index 1384-1388</strong>.</p>
</section>
<section id="litwise-deletion">
<h3>Litwise Deletion<a class="headerlink" href="#litwise-deletion" title="Link to this heading">#</a></h3>
<p><strong>Listwise Deletion</strong> (atau <em>complete-case analysis</em>) adalah metode menangani data yang hilang (<em>missing data</em>) dengan cara menghapus seluruh baris yang memiliki setidaknya satu nilai hilang.</p>
</section>
<section id="rumus-dasar">
<h3>Rumus Dasar:<a class="headerlink" href="#rumus-dasar" title="Link to this heading">#</a></h3>
<p>Misalkan:</p>
<ul class="simple">
<li><p>Dataset awal memiliki (n) observasi ((n) baris) dan (p) fitur ((p) kolom).</p></li>
<li><p>Dataset dilambangkan dengan matriks <span class="math notranslate nohighlight">\(( X \in \mathbb{R}^{n \times p} )\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(( X_{i,j} )\)</span> merepresentasikan elemen pada baris ke-(i) dan kolom ke-(j).</p></li>
</ul>
<p><strong>Definisi</strong>:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(( M_i = \{j \,|\, X_{i,j} \text{ kosong (missing)}\} )\)</span> adalah himpunan indeks fitur dengan nilai hilang pada baris ke-(i).</p></li>
<li><p>Baris (i) akan dihapus jika <span class="math notranslate nohighlight">\(( |M_i| &gt; 0 )\)</span> (ada elemen hilang).</p></li>
</ul>
<p><strong>Operasi Listwise Deletion</strong>:</p>
<p>Dataset hasil ( X’ ) didefinisikan sebagai:</p>
<p><span class="math notranslate nohighlight">\([
X' = \{X_i \,|\, M_i = \emptyset\}, \quad X' \in \mathbb{R}^{m \times p}
\)</span>]</p>
<ul class="simple">
<li><p>( m ): Jumlah baris setelah penghapusan, <span class="math notranslate nohighlight">\(( m \leq n )\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(( M_i = \emptyset )\)</span>: Tidak ada elemen hilang di baris ke-(i).</p></li>
</ul>
</section>
<section id="intuisi">
<h3>Intuisi:<a class="headerlink" href="#intuisi" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Sebelum Listwise Deletion</strong>:
Dataset lengkap memiliki ( n ) baris, tetapi beberapa baris memiliki nilai hilang.</p></li>
<li><p><strong>Setelah Listwise Deletion</strong>:
Hanya baris yang memiliki data lengkap (tidak ada nilai hilang) yang dipertahankan.</p></li>
</ol>
<p>Listwise Deletion cocok untuk dataset dengan sedikit nilai hilang, tetapi kurang ideal jika persentase data yang hilang tinggi.</p>
</section>
<section id="menghapus-baris-yang-memiliki-missing-value">
<h3>Menghapus baris yang memiliki missing value<a class="headerlink" href="#menghapus-baris-yang-memiliki-missing-value" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Volume&#39;</span><span class="p">],</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;any&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Volume&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Volume&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Volume</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>31360000.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>83840000.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>73940000.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>83680000.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>67960000.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>1380</th>
      <td>46440000.0</td>
    </tr>
    <tr>
      <th>1381</th>
      <td>62900000.0</td>
    </tr>
    <tr>
      <th>1382</th>
      <td>85790000.0</td>
    </tr>
    <tr>
      <th>1383</th>
      <td>125030000.0</td>
    </tr>
    <tr>
      <th>1389</th>
      <td>92260000.0</td>
    </tr>
  </tbody>
</table>
<p>1385 rows × 1 columns</p>
</div><br><label><b>dtype:</b> float64</label></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missing_count</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">missing_count</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Tanggal</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Penutupan</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Pembukaan</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Tertinggi</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Terendah</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Volume</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Perubahan</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Tahun</th>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div><br><label><b>dtype:</b> int64</label></div></div>
</div>
<p>Namun, sesuai dengan hasil dari korelasi, kolom volume tidak akan digunakan sehingga untuk langkah ini hanya digunakan untuk menunjukkan cara untuk menghadapi missing value.</p>
</section>
</section>
<section id="cek-data-yang-ganda">
<h2>Cek Data yang ganda<a class="headerlink" href="#cek-data-yang-ganda" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">duplicated_count</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">duplicated_count</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
</section>
<section id="definisi-kolom">
<h2>Definisi Kolom<a class="headerlink" href="#definisi-kolom" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Saya mengubah type dari kolom tanggal menjadi integer, dikarenakan pada beberapa skenario yang saya coba dapat menyebabkan error karena dataframe yang memiliki kolom berjenis timestamp tidak dapat diproses dengann baik.</p>
<p>Langkah selanjutnya yaitu dengan mendefenisikan kolom, pada skenario di bawah akan digunakan 4 kolom, 3 sebagai kolom inputnya input (x) dan 1 sebagai parameter yang akan digunakan untuk memprediksi.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Pembukaan&#39;</span><span class="p">]</span>
<span class="n">x_2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tertinggi&#39;</span><span class="p">]</span>
<span class="n">x_3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Terendah&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Penutupan&#39;</span><span class="p">]</span>

<span class="n">x_1</span> <span class="o">=</span> <span class="n">x_1</span><span class="o">.</span><span class="n">values</span>
<span class="n">x_2</span> <span class="o">=</span> <span class="n">x_2</span><span class="o">.</span><span class="n">values</span>
<span class="n">x_3</span> <span class="o">=</span> <span class="n">x_3</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># convert to [rows, columns] structure</span>
<span class="n">x_1</span> <span class="o">=</span> <span class="n">x_1</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">x_1</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">x_2</span> <span class="o">=</span> <span class="n">x_2</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">x_2</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">x_3</span> <span class="o">=</span> <span class="n">x_3</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">x_3</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span>

<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;x_1.shape&quot;</span> <span class="p">,</span> <span class="n">x_1</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;x_2.shape&quot;</span> <span class="p">,</span> <span class="n">x_2</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;x_3.shape&quot;</span> <span class="p">,</span> <span class="n">x_3</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;y.shape&quot;</span> <span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x_1.shape (1385, 1)
x_2.shape (1385, 1)
x_3.shape (1385, 1)
y.shape (1385, 1)
</pre></div>
</div>
</div>
</div>
<p>Dalam praktik umum, data biasanya diproses terlebih dahulu sebelum dibagi menjadi set pelatihan dan pengujian. Di sini, kita perlu melakukan transformasi data dengan menormalisasi setiap data variabel menggunakan MinMaxScaler. Langkah-langkahnya adalah sebagai berikut:</p>
<ol class="arabic simple">
<li><p>membentuk ulang setiap variabel menjadi array 2D dengan konfigurasi :(jumlah data, 1) untuk penskalaan.</p></li>
<li><p>Tentukan Scaler yang berkisar dari 0 hingga 1 dan sesuaikan setiap variabel data secara individual. Yang perlu diperhatikan : fungsi fit_transform() terdiri dari fungsi fit() dan transform(), yang memindai nilai maks dan min data dan mengubahnya antara 0 dan 1. Jika data memiliki rentang yang berbeda, transformasinya akan berbeda. Untuk info lebih lanjut: MinMaxScaler()</p></li>
<li><p>Tumpuk semua variabel secara horizontal.</p></li>
</ol>
</section>
<section id="scale-fitur-data">
<h2>Scale Fitur Data<a class="headerlink" href="#scale-fitur-data" title="Link to this heading">#</a></h2>
<section id="rumus-minmaxscaler">
<h3>Rumus MinMaxScaler<a class="headerlink" href="#rumus-minmaxscaler" title="Link to this heading">#</a></h3>
<p>Rumus <strong>MinMaxScaler</strong> adalah sebagai berikut:</p>
<p><span class="math notranslate nohighlight">\(
[
X_{\text{scaled}} = \frac{X - X_{\text{min}}}{X_{\text{max}} - X_{\text{min}}}
]
\)</span></p>
<p>Dimana:</p>
<ul class="simple">
<li><p>( X ) adalah nilai data asli.</p></li>
<li><p><span class="math notranslate nohighlight">\(( X_{\text{min}} )\)</span> adalah nilai minimum dari dataset.</p></li>
<li><p><span class="math notranslate nohighlight">\(( X_{\text{max}} )\)</span> adalah nilai maksimum dari dataset.</p></li>
<li><p><span class="math notranslate nohighlight">\(( X_{\text{scaled}} \)</span>) adalah hasil normalisasi dengan rentang antara 0 dan 1.</p></li>
</ul>
<p>Jika ingin mengubah rentang menjadi ([a, b]), maka rumusnya:</p>
<p><span class="math notranslate nohighlight">\([
X_{\text{scaled}} = a + \frac{(X - X_{\text{min}})(b - a)}{X_{\text{max}} - X_{\text{min}}}
]\)</span></p>
<p>Dimana:</p>
<ul class="simple">
<li><p>( a ) adalah batas bawah rentang yang diinginkan.</p></li>
<li><p>( b ) adalah batas atas rentang yang diinginkan.</p></li>
</ul>
<p>Rumus ini digunakan untuk memastikan data berada dalam rentang tertentu, biasanya untuk meningkatkan performa algoritma pembelajaran mesin yang sensitif terhadap skala fitur.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># normalization features</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">x_1_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">x_1</span><span class="p">)</span>
<span class="n">x_2_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">x_2</span><span class="p">)</span>
<span class="n">x_3_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">x_3</span><span class="p">)</span>
<span class="n">y_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># horizontally stack columns</span>
<span class="n">dataset_stacked</span> <span class="o">=</span> <span class="n">hstack</span><span class="p">((</span><span class="n">x_1_scaled</span><span class="p">,</span> <span class="n">x_2_scaled</span><span class="p">,</span> <span class="n">x_3_scaled</span><span class="p">,</span> <span class="n">y_scaled</span><span class="p">))</span>

<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;dataset_stacked.shape&quot;</span> <span class="p">,</span> <span class="n">dataset_stacked</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dataset_stacked.shape (1385, 4)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="splitting-dataset">
<h2>Splitting Dataset<a class="headerlink" href="#splitting-dataset" title="Link to this heading">#</a></h2>
<p>Kita ingin model kita belajar dengan menghubungkan data [x1,x2,x3] sebelumnya dengan data [y] mendatang. Oleh karena itu, kita perlu mengatur ulang data kita dengan menggunakan fungsi split sequences() yang dibuat oleh MachineLearningMastery. Ada 2 argumen utama yang perlu kita tentukan yaitu:</p>
<ol class="arabic simple">
<li><p>n_steps_in: Tentukan berapa banyak data yang ingin kita lihat kembali untuk prediksi</p></li>
<li><p>n_step_out: Tentukan berapa banyak data multi-langkah yang ingin kita perkirakan</p></li>
</ol>
<section id="rumus">
<h3>Rumus<a class="headerlink" href="#rumus" title="Link to this heading">#</a></h3>
<p>Secara matematis, fungsi <code class="docutils literal notranslate"><span class="pre">split_sequences()</span></code> dapat dijelaskan dengan rumus berikut:</p>
</section>
<section id="diberikan">
<h3>Diberikan:<a class="headerlink" href="#diberikan" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(( S = \{s_1, s_2, s_3, \dots, s_T\} )\)</span> adalah dataset sekuensial dengan ( T ) baris dan ( F ) fitur (multivariate) yang direpresentasikan sebagai matriks <span class="math notranslate nohighlight">\(( S \in \mathbb{R}^{T \times F} )\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(( n_{\text{steps}} ) \)</span>: panjang window (jumlah langkah untuk input sequence).</p></li>
</ul>
</section>
<section id="proses">
<h3>Proses:<a class="headerlink" href="#proses" title="Link to this heading">#</a></h3>
<ol class="arabic">
<li><p><strong>Input (X)</strong>:
Untuk setiap ( i ) dalam range <span class="math notranslate nohighlight">\(( 1 \leq i \leq T - n_{\text{steps}} )\)</span>:</p>
<ul>
<li><p>Ambil subset data dari baris ( i ) hingga <span class="math notranslate nohighlight">\(( i + n_{\text{steps}} - 1 )\)</span> untuk semua fitur ( f ).</p></li>
<li><p>Representasi matematis:</p>
<p><span class="math notranslate nohighlight">\([
X_i = \{S[i], S[i+1], \dots, S[i + n_{\text{steps}} - 1]\}, \quad X \in \mathbb{R}^{n_{\text{steps}} \times F}.
]\)</span></p>
</li>
</ul>
</li>
<li><p><strong>Output (y)</strong>:</p>
<ul>
<li><p>Pilih target ( y_i ) dari baris <span class="math notranslate nohighlight">\(( i + n_{\text{steps}} )\)</span> pada fitur target tertentu (misalnya, fitur terakhir ( f_F )).</p></li>
<li><p>Representasi matematis:</p>
<p><span class="math notranslate nohighlight">\([
y_i = S[i + n_{\text{steps}} - 1, F].
]\)</span></p>
</li>
</ul>
</li>
<li><p><strong>Hasil Akhir</strong>:</p>
<ul>
<li><p>Setelah iterasi selesai, output adalah:</p>
<p><span class="math notranslate nohighlight">\([
X = \{X_1, X_2, \dots, X_N\}, \quad y = \{y_1, y_2, \dots, y_N\},
\)</span>]
dengan <span class="math notranslate nohighlight">\(( N = T - n_{\text{steps}} )\)</span>.</p>
</li>
</ul>
</li>
</ol>
</section>
<section id="id1">
<h3>Intuisi:<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Input ( X ) adalah window berisi <span class="math notranslate nohighlight">\(( n_{\text{steps}} )\)</span> langkah sebelumnya dari setiap fitur.</p></li>
<li><p>Output ( y ) adalah nilai target pada langkah berikutnya.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># split a multivariate sequence into samples</span>
<span class="k">def</span> <span class="nf">split_sequences</span><span class="p">(</span><span class="n">sequences</span><span class="p">,</span> <span class="n">n_steps_in</span><span class="p">,</span> <span class="n">n_steps_out</span><span class="p">):</span>
	<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(),</span> <span class="nb">list</span><span class="p">()</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sequences</span><span class="p">)):</span>
		<span class="c1"># find the end of this pattern</span>
		<span class="n">end_ix</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">n_steps_in</span>
		<span class="n">out_end_ix</span> <span class="o">=</span> <span class="n">end_ix</span> <span class="o">+</span> <span class="n">n_steps_out</span><span class="o">-</span><span class="mi">1</span>
		<span class="c1"># check if we are beyond the dataset</span>
		<span class="k">if</span> <span class="n">out_end_ix</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">sequences</span><span class="p">):</span>
			<span class="k">break</span>
		<span class="c1"># gather input and output parts of the pattern</span>
		<span class="n">seq_x</span><span class="p">,</span> <span class="n">seq_y</span> <span class="o">=</span> <span class="n">sequences</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">end_ix</span><span class="p">,</span> <span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">sequences</span><span class="p">[</span><span class="n">end_ix</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">out_end_ix</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
		<span class="n">X</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seq_x</span><span class="p">)</span>
		<span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seq_y</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">array</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="n">array</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># choose a number of time steps #change this accordingly</span>
<span class="n">n_steps_in</span><span class="p">,</span> <span class="n">n_steps_out</span> <span class="o">=</span> <span class="mi">60</span> <span class="p">,</span> <span class="mi">30</span>

<span class="c1"># covert into input/output</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">split_sequences</span><span class="p">(</span><span class="n">dataset_stacked</span><span class="p">,</span> <span class="n">n_steps_in</span><span class="p">,</span> <span class="n">n_steps_out</span><span class="p">)</span>

<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;X.shape&quot;</span> <span class="p">,</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;y.shape&quot;</span> <span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>X.shape (1297, 60, 3)
y.shape (1297, 30)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">split_percentage</span> <span class="o">=</span> <span class="mf">0.8</span>  <span class="c1"># Use 80% of data for training</span>
<span class="n">split</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">*</span> <span class="n">split_percentage</span><span class="p">)</span>
<span class="n">train_X</span> <span class="p">,</span> <span class="n">train_y</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:</span><span class="n">split</span><span class="p">,</span> <span class="p">:]</span> <span class="p">,</span> <span class="n">y</span><span class="p">[:</span><span class="n">split</span><span class="p">,</span> <span class="p">:]</span>
<span class="n">test_X</span> <span class="p">,</span> <span class="n">test_y</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">split</span><span class="p">:,</span> <span class="p">:]</span> <span class="p">,</span> <span class="n">y</span><span class="p">[</span><span class="n">split</span><span class="p">:,</span> <span class="p">:]</span>

<span class="n">n_features</span> <span class="o">=</span> <span class="n">train_X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;train_X.shape&quot;</span> <span class="p">,</span> <span class="n">train_X</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;train_y.shape&quot;</span> <span class="p">,</span> <span class="n">train_y</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;test_X.shape&quot;</span> <span class="p">,</span> <span class="n">test_X</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;test_y.shape&quot;</span> <span class="p">,</span> <span class="n">test_y</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;n_features&quot;</span> <span class="p">,</span> <span class="n">n_features</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>train_X.shape (1108, 60, 3)
train_y.shape (1108, 30)
test_X.shape (189, 60, 3)
test_y.shape (189, 30)
n_features 3
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="modeling">
<h1>Modeling<a class="headerlink" href="#modeling" title="Link to this heading">#</a></h1>
<section id="menggunakan-lstm">
<h2>Menggunakan LSTM<a class="headerlink" href="#menggunakan-lstm" title="Link to this heading">#</a></h2>
<p>Di sini, kita akan mulai mengatur arsitektur model LSTM dengan menginisialisasi laju pembelajaran pengoptimal serta jumlah lapisan dalam jaringan. Jaringan saraf terdiri dari: 2 simpul LSTM dengan 50 unit tersembunyi, lapisan padat yang menentukan keluaran model berdasarkan n_steps_out (berapa banyak data masa depan yang ingin kita perkirakan) dan diakhiri dengan fungsi aktivasi.</p>
<section id="lstm-long-short-term-memory">
<h3><strong>LSTM (Long Short-Term Memory)</strong><a class="headerlink" href="#lstm-long-short-term-memory" title="Link to this heading">#</a></h3>
<p>adalah jenis unit dalam jaringan neural rekursif (RNN) yang dirancang untuk mengatasi masalah <em>vanishing gradient</em> dengan menggunakan struktur internal seperti <em>gates</em>. Berikut adalah rumus matematis untuk LSTM:</p>
</section>
<section id="komponen-utama">
<h3>Komponen Utama:<a class="headerlink" href="#komponen-utama" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Input Gate ((i_t))</strong>: Mengontrol informasi baru yang masuk ke sel memori.</p></li>
<li><p><strong>Forget Gate ((f_t))</strong>: Mengontrol informasi lama yang harus dilupakan dari sel memori.</p></li>
<li><p><strong>Cell State ((C_t))</strong>: Menyimpan informasi yang relevan untuk waktu yang lama.</p></li>
<li><p><strong>Output Gate ((o_t))</strong>: Mengontrol informasi yang keluar untuk prediksi.</p></li>
<li><p><strong>Hidden State ((h_t))</strong>: Output utama untuk waktu (t).</p></li>
</ol>
</section>
<hr class="docutils" />
<section id="rumus-lstm">
<h3>Rumus LSTM:<a class="headerlink" href="#rumus-lstm" title="Link to this heading">#</a></h3>
<section id="forget-gate-f-t">
<h4>1. Forget Gate ((f_t)):<a class="headerlink" href="#forget-gate-f-t" title="Link to this heading">#</a></h4>
<p><span class="math notranslate nohighlight">\([
f_t = \sigma(W_f \cdot [h_{t-1}, x_t] + b_f)
]\)</span></p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\((W_f\)</span>): Bobot forget gate.</p></li>
<li><p><span class="math notranslate nohighlight">\((b_f\)</span>): Bias forget gate.</p></li>
<li><p><span class="math notranslate nohighlight">\(([h_{t-1}, x_t])\)</span>: Kombinasi hidden state sebelumnya dan input saat ini.</p></li>
<li><p><span class="math notranslate nohighlight">\((\sigma)\)</span>: Fungsi sigmoid (untuk menghasilkan nilai antara 0 dan 1).</p></li>
</ul>
</section>
<section id="input-gate-i-t-dan-candidate-cell-state-tilde-c-t">
<h4>2. Input Gate ((i_t)) dan Candidate Cell State <span class="math notranslate nohighlight">\(((\tilde{C}_t))\)</span>:<a class="headerlink" href="#input-gate-i-t-dan-candidate-cell-state-tilde-c-t" title="Link to this heading">#</a></h4>
<p><span class="math notranslate nohighlight">\([
i_t = \sigma(W_i \cdot [h_{t-1}, x_t] + b_i)
]\)</span>
<span class="math notranslate nohighlight">\([
\tilde{C}_t = \tanh(W_c \cdot [h_{t-1}, x_t] + b_c)
]\)</span></p>
<ul class="simple">
<li><p>(W_i, W_c): Bobot untuk input gate dan candidate cell state.</p></li>
<li><p>(b_i, b_c): Bias masing-masing.</p></li>
<li><p><span class="math notranslate nohighlight">\((\tanh)\)</span>: Fungsi aktivasi tanh (menghasilkan nilai antara -1 dan 1).</p></li>
</ul>
</section>
<section id="cell-state-c-t">
<h4>3. Cell State ((C_t)):<a class="headerlink" href="#cell-state-c-t" title="Link to this heading">#</a></h4>
<p><span class="math notranslate nohighlight">\([
C_t = f_t \odot C_{t-1} + i_t \odot \tilde{C}_t
]\)</span></p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\((\odot)\)</span>: Operasi perkalian elemen-wise (Hadamard product).</p></li>
<li><p><span class="math notranslate nohighlight">\((C_{t-1})\)</span>: Cell state sebelumnya.</p></li>
</ul>
</section>
<section id="output-gate-o-t">
<h4>4. Output Gate ((o_t)):<a class="headerlink" href="#output-gate-o-t" title="Link to this heading">#</a></h4>
<p><span class="math notranslate nohighlight">\([
o_t = \sigma(W_o \cdot [h_{t-1}, x_t] + b_o)
]\)</span></p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\((W_o, b_o)\)</span>: Bobot dan bias output gate.</p></li>
</ul>
</section>
<section id="hidden-state-h-t">
<h4>5. Hidden State ((h_t)):<a class="headerlink" href="#hidden-state-h-t" title="Link to this heading">#</a></h4>
<p><span class="math notranslate nohighlight">\([
h_t = o_t \odot \tanh(C_t)
]\)</span></p>
</section>
</section>
<hr class="docutils" />
<section id="penjelasan">
<h3>Penjelasan:<a class="headerlink" href="#penjelasan" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Forget Gate ((f_t))</strong>: Menentukan bagian dari cell state lama <span class="math notranslate nohighlight">\(((C_{t-1}))\)</span> yang akan dilupakan.</p></li>
<li><p><strong>Input Gate ((i_t))</strong>: Memutuskan informasi baru <span class="math notranslate nohighlight">\(((\tilde{C}_t))\)</span> yang akan ditambahkan ke cell state.</p></li>
<li><p><strong>Cell State ((C_t))</strong>: Memadukan informasi lama dan baru untuk menghasilkan cell state saat ini.</p></li>
<li><p><strong>Output Gate ((o_t))</strong>: Mengontrol informasi dalam hidden state ((h_t)) yang digunakan untuk prediksi.</p></li>
</ol>
</section>
<section id="diagram-aliran-lstm">
<h3>Diagram Aliran LSTM:<a class="headerlink" href="#diagram-aliran-lstm" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Input</strong>: (x_t) dan <span class="math notranslate nohighlight">\((h_{t-1})\)</span>.</p></li>
<li><p><strong>Output</strong>: (h_t) dan (C_t).</p></li>
<li><p><strong>Gates</strong>:</p>
<ul>
<li><p>Forget Gate: Membatasi informasi lama.</p></li>
<li><p>Input Gate: Menambahkan informasi baru.</p></li>
<li><p>Output Gate: Menentukan bagian dari cell state yang diproses menjadi hidden state.</p></li>
</ul>
</li>
</ul>
<p>LSTM dirancang untuk belajar menangani informasi jangka panjang sambil secara dinamis memutuskan apa yang harus diingat dan dilupakan pada setiap langkah waktu.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#optimizer learning rate</span>
<span class="n">opt</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">optimizers</span><span class="o">.</span><span class="n">Adam</span><span class="p">(</span><span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>

<span class="c1"># define model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span> <span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="n">n_steps_in</span><span class="p">,</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">])))</span> <span class="c1"># Use X.shape[2] directly</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dense</span><span class="p">(</span><span class="n">n_steps_out</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Activation</span><span class="p">(</span><span class="s1">&#39;linear&#39;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">loss</span><span class="o">=</span><span class="s1">&#39;mse&#39;</span> <span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="n">opt</span> <span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mse&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/local/lib/python3.10/dist-packages/keras/src/layers/rnn/rnn.py:204: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
</pre></div>
</div>
</div>
</div>
<p>Catatan: Input_shape dari node LSTM pertama menentukan bentuk data input untuk prediksi dalam fase evaluasi. Sementara itu, Dense Layer menentukan bentuk output model berdasarkan n_steps_out</p>
<p>Dalam pelatihan, kita memiliki 32 kelompok dataset, oleh karena itu langkah_per_epoch akan menjadi 32.</p>
<p>Namun secara umum langkah_per_epoch dihitung dengan membagi jumlah total data training (len(train_X)) dengan ukuran batch (batch_size).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">batch_size</span> <span class="o">=</span> <span class="mi">32</span>  <span class="n">gunakan</span>
   <span class="n">steps_per_epoch</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">train_X</span><span class="p">)</span> <span class="o">//</span> <span class="n">batch_size</span>
</pre></div>
</div>
<p>Dalam setiap langkah, akan dibutuhkan 1385 titik data (1 kelompok) untuk pelatihan. Dengan 32 langkah per epoch, semua 32 kelompok akan dilatih dalam setiap epoch. Dengan 80 epoch, setiap kelompok akan dilatih 80 kali.</p>
<p>Epoch merepresentasikan berapa kali seluruh dataset training telah diproses oleh model selama proses training. Menentukan jumlah epoch yang tepat sangat penting karena:</p>
<ul class="simple">
<li><p>Epoch terlalu sedikit: Model mungkin underfit, artinya belum belajar pola data dengan baik dan performanya buruk.</p></li>
<li><p>Epoch terlalu banyak: Model mungkin overfit, artinya terlalu fokus pada data training dan performanya buruk pada data baru (unseen data).</p></li>
</ul>
<p>Seluruh kemajuan pelatihan seharusnya kurang dari 15 menit dengan Google Colab.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Reshape input data to 3D for LSTM</span>
<span class="n">train_X</span> <span class="o">=</span> <span class="n">train_X</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">train_X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">train_X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">train_X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
<span class="n">test_X</span> <span class="o">=</span> <span class="n">test_X</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">test_X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">test_X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">test_X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

<span class="c1"># Fit network</span>
<span class="n">history</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
    <span class="n">train_X</span><span class="p">,</span>
    <span class="n">train_y</span><span class="p">,</span>
    <span class="n">epochs</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>
    <span class="n">steps_per_epoch</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">validation_data</span><span class="o">=</span><span class="p">(</span><span class="n">test_X</span><span class="p">,</span> <span class="n">test_y</span><span class="p">),</span>
    <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Epoch 1/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">7s</span> 76ms/step - loss: 18.6496 - mse: 18.6496 - val_loss: 0.1086 - val_mse: 0.1086
Epoch 2/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 5ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.1086 - val_mse: 0.1086
Epoch 3/80
<span class=" -Color -Color-Bold"> 1/25</span> <span class=" -Color -Color-White">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">1s</span> 74ms/step - loss: 0.2095 - mse: 0.2095
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/lib/python3.10/contextlib.py:153: UserWarning: Your input ran out of data; interrupting training. Make sure that your dataset or generator can generate at least `steps_per_epoch * epochs` batches. You may need to use the `.repeat()` function when building your dataset.
  self.gen.throw(typ, value, traceback)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">1s</span> 59ms/step - loss: 0.2048 - mse: 0.2048 - val_loss: 0.1059 - val_mse: 0.1059
Epoch 4/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 5ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.1059 - val_mse: 0.1059
Epoch 5/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 57ms/step - loss: 0.2603 - mse: 0.2603 - val_loss: 0.1080 - val_mse: 0.1080
Epoch 6/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.1080 - val_mse: 0.1080
Epoch 7/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 59ms/step - loss: 0.1763 - mse: 0.1763 - val_loss: 0.0827 - val_mse: 0.0827
Epoch 8/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0827 - val_mse: 0.0827
Epoch 9/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">3s</span> 76ms/step - loss: 0.0780 - mse: 0.0780 - val_loss: 0.0417 - val_mse: 0.0417
Epoch 10/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 7ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0417 - val_mse: 0.0417
Epoch 11/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 94ms/step - loss: 0.0491 - mse: 0.0491 - val_loss: 0.0368 - val_mse: 0.0368
Epoch 12/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 8ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0368 - val_mse: 0.0368
Epoch 13/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">4s</span> 58ms/step - loss: 0.0222 - mse: 0.0222 - val_loss: 0.0390 - val_mse: 0.0390
Epoch 14/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0390 - val_mse: 0.0390
Epoch 15/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 57ms/step - loss: 0.0229 - mse: 0.0229 - val_loss: 0.0361 - val_mse: 0.0361
Epoch 16/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 5ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0361 - val_mse: 0.0361
Epoch 17/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">1s</span> 57ms/step - loss: 0.0214 - mse: 0.0214 - val_loss: 0.0350 - val_mse: 0.0350
Epoch 18/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0350 - val_mse: 0.0350
Epoch 19/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">1s</span> 58ms/step - loss: 0.0206 - mse: 0.0206 - val_loss: 0.0345 - val_mse: 0.0345
Epoch 20/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 5ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0345 - val_mse: 0.0345
Epoch 21/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 74ms/step - loss: 0.0205 - mse: 0.0205 - val_loss: 0.0339 - val_mse: 0.0339
Epoch 22/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 7ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0339 - val_mse: 0.0339
Epoch 23/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">3s</span> 95ms/step - loss: 0.0204 - mse: 0.0204 - val_loss: 0.0330 - val_mse: 0.0330
Epoch 24/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 7ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0330 - val_mse: 0.0330
Epoch 25/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">4s</span> 59ms/step - loss: 0.0200 - mse: 0.0200 - val_loss: 0.0319 - val_mse: 0.0319
Epoch 26/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0319 - val_mse: 0.0319
Epoch 27/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">1s</span> 56ms/step - loss: 0.0193 - mse: 0.0193 - val_loss: 0.0307 - val_mse: 0.0307
Epoch 28/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0307 - val_mse: 0.0307
Epoch 29/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">1s</span> 59ms/step - loss: 0.0185 - mse: 0.0185 - val_loss: 0.0297 - val_mse: 0.0297
Epoch 30/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 5ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0297 - val_mse: 0.0297
Epoch 31/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 58ms/step - loss: 0.0178 - mse: 0.0178 - val_loss: 0.0288 - val_mse: 0.0288
Epoch 32/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0288 - val_mse: 0.0288
Epoch 33/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 86ms/step - loss: 0.0172 - mse: 0.0172 - val_loss: 0.0279 - val_mse: 0.0279
Epoch 34/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 6ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0279 - val_mse: 0.0279
Epoch 35/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">3s</span> 92ms/step - loss: 0.0167 - mse: 0.0167 - val_loss: 0.0272 - val_mse: 0.0272
Epoch 36/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 6ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0272 - val_mse: 0.0272
Epoch 37/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">1s</span> 58ms/step - loss: 0.0162 - mse: 0.0162 - val_loss: 0.0265 - val_mse: 0.0265
Epoch 38/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0265 - val_mse: 0.0265
Epoch 39/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 60ms/step - loss: 0.0158 - mse: 0.0158 - val_loss: 0.0258 - val_mse: 0.0258
Epoch 40/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 5ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0258 - val_mse: 0.0258
Epoch 41/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">1s</span> 58ms/step - loss: 0.0154 - mse: 0.0154 - val_loss: 0.0252 - val_mse: 0.0252
Epoch 42/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0252 - val_mse: 0.0252
Epoch 43/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">1s</span> 58ms/step - loss: 0.0150 - mse: 0.0150 - val_loss: 0.0247 - val_mse: 0.0247
Epoch 44/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0247 - val_mse: 0.0247
Epoch 45/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 56ms/step - loss: 0.0147 - mse: 0.0147 - val_loss: 0.0242 - val_mse: 0.0242
Epoch 46/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0242 - val_mse: 0.0242
Epoch 47/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 66ms/step - loss: 0.0144 - mse: 0.0144 - val_loss: 0.0238 - val_mse: 0.0238
Epoch 48/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 6ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0238 - val_mse: 0.0238
Epoch 49/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 89ms/step - loss: 0.0141 - mse: 0.0141 - val_loss: 0.0234 - val_mse: 0.0234
Epoch 50/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 7ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0234 - val_mse: 0.0234
Epoch 51/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 91ms/step - loss: 0.0139 - mse: 0.0139 - val_loss: 0.0231 - val_mse: 0.0231
Epoch 52/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0231 - val_mse: 0.0231
Epoch 53/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 59ms/step - loss: 0.0137 - mse: 0.0137 - val_loss: 0.0228 - val_mse: 0.0228
Epoch 54/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0228 - val_mse: 0.0228
Epoch 55/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">1s</span> 58ms/step - loss: 0.0135 - mse: 0.0135 - val_loss: 0.0225 - val_mse: 0.0225
Epoch 56/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0225 - val_mse: 0.0225
Epoch 57/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 59ms/step - loss: 0.0134 - mse: 0.0134 - val_loss: 0.0223 - val_mse: 0.0223
Epoch 58/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0223 - val_mse: 0.0223
Epoch 59/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">1s</span> 58ms/step - loss: 0.0132 - mse: 0.0132 - val_loss: 0.0221 - val_mse: 0.0221
Epoch 60/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0221 - val_mse: 0.0221
Epoch 61/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 59ms/step - loss: 0.0131 - mse: 0.0131 - val_loss: 0.0220 - val_mse: 0.0220
Epoch 62/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 5ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0220 - val_mse: 0.0220
Epoch 63/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 74ms/step - loss: 0.0130 - mse: 0.0130 - val_loss: 0.0218 - val_mse: 0.0218
Epoch 64/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 6ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0218 - val_mse: 0.0218
Epoch 65/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">3s</span> 91ms/step - loss: 0.0129 - mse: 0.0129 - val_loss: 0.0217 - val_mse: 0.0217
Epoch 66/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 8ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0217 - val_mse: 0.0217
Epoch 67/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 73ms/step - loss: 0.0129 - mse: 0.0129 - val_loss: 0.0216 - val_mse: 0.0216
Epoch 68/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0216 - val_mse: 0.0216
Epoch 69/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 59ms/step - loss: 0.0128 - mse: 0.0128 - val_loss: 0.0215 - val_mse: 0.0215
Epoch 70/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0215 - val_mse: 0.0215
Epoch 71/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 60ms/step - loss: 0.0127 - mse: 0.0127 - val_loss: 0.0214 - val_mse: 0.0214
Epoch 72/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0214 - val_mse: 0.0214
Epoch 73/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 59ms/step - loss: 0.0126 - mse: 0.0126 - val_loss: 0.0213 - val_mse: 0.0213
Epoch 74/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 4ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0213 - val_mse: 0.0213
Epoch 75/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 59ms/step - loss: 0.0126 - mse: 0.0126 - val_loss: 0.0212 - val_mse: 0.0212
Epoch 76/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 5ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0212 - val_mse: 0.0212
Epoch 77/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">4s</span> 106ms/step - loss: 0.0125 - mse: 0.0125 - val_loss: 0.0212 - val_mse: 0.0212
Epoch 78/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 6ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0212 - val_mse: 0.0212
Epoch 79/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 85ms/step - loss: 0.0125 - mse: 0.0125 - val_loss: 0.0211 - val_mse: 0.0211
Epoch 80/80
<span class=" -Color -Color-Bold">25/25</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 5ms/step - loss: 0.0000e+00 - mse: 0.0000e+00 - val_loss: 0.0211 - val_mse: 0.0211
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="evaluasi">
<h1>Evaluasi<a class="headerlink" href="#evaluasi" title="Link to this heading">#</a></h1>
<p>Selanjutnya, kita akan menggunakan fungsi prep_data untuk menyiapkan data uji dan memasukkannya ke dalam model terlatih kita untuk meramalkan 30 data berikutnya. Selain itu, fungsi ini juga menyiapkan data masa lalu untuk keperluan plotting serta groundtruth untuk validasi. Argumen — start , end dan last akan dimaksudkan oleh —</p>
<p>mulai, akhir: Untuk menentukan rentang Data Uji berdasarkan n_steps_in . dapat berupa titik mana pun dalam kumpulan data uji.
terakhir : data terakhir dari nilai prediksi berdasarkan n_step_out .
Untuk menggunakan fungsi ini, cukup masukkan x1_test_scaled , x2_test_scaled, y_test dan tentukan argumen awal . Akhir &amp; akhir akan dihitung secara otomatis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># definisi data</span>
<span class="n">x1_test</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Pembukaan&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">x2_test</span> <span class="o">=</span>  <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tertinggi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">x3_test</span> <span class="o">=</span>  <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Terendah&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Penutupan&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span> <span class="c1"># no need to scale</span>

<span class="c1"># convert to [rows, columns] structure</span>
<span class="n">x1_test</span> <span class="o">=</span> <span class="n">x1_test</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">x1_test</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">x2_test</span> <span class="o">=</span> <span class="n">x2_test</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">x2_test</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">x3_test</span> <span class="o">=</span> <span class="n">x3_test</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">x3_test</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_test</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">y_test</span><span class="p">),</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">x1_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">x1_test</span><span class="p">)</span>
<span class="n">x2_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">x2_test</span><span class="p">)</span>
<span class="n">x3_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">x3_test</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Selanjutnya, kita akan mengevaluasi hasil prakiraan dengan metrik MAE dan RMSE dengan menggunakan fungsi evaluate_prediction . Cukup masukkan hasil prakiraan dan groundtruth dari fungsi prep_data .</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">prep_data</span><span class="p">(</span><span class="n">x1_test_scaled</span> <span class="p">,</span> <span class="n">x2_test_scaled</span> <span class="p">,</span> <span class="n">x3_test_scaled</span><span class="p">,</span> <span class="n">y_test</span> <span class="p">,</span> <span class="n">start</span> <span class="p">,</span> <span class="n">end</span> <span class="p">,</span> <span class="n">last</span><span class="p">):</span>
    <span class="c1">#prepare test data X</span>
    <span class="n">dataset_test</span> <span class="o">=</span> <span class="n">hstack</span><span class="p">((</span><span class="n">x1_test_scaled</span><span class="p">,</span> <span class="n">x2_test_scaled</span><span class="p">,</span> <span class="n">x3_test_scaled</span><span class="p">))</span>
    <span class="n">dataset_test_X</span> <span class="o">=</span> <span class="n">dataset_test</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">,</span> <span class="p">:]</span>
    <span class="n">test_X_new</span> <span class="o">=</span> <span class="n">dataset_test_X</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">dataset_test_X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">,</span> <span class="n">dataset_test_X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="c1">#prepare past and groundtruth</span>
    <span class="n">past_data</span> <span class="o">=</span> <span class="n">y_test</span><span class="p">[:</span><span class="n">end</span> <span class="p">,</span> <span class="p">:]</span>
    <span class="n">dataset_test_y</span> <span class="o">=</span> <span class="n">y_test</span><span class="p">[</span><span class="n">end</span><span class="p">:</span><span class="n">last</span> <span class="p">,</span> <span class="p">:]</span>
    <span class="n">scaler1</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">scaler1</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">dataset_test_y</span><span class="p">)</span>

    <span class="c1"># predictions</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_X_new</span><span class="p">)</span>
    <span class="n">y_pred_inv</span> <span class="o">=</span> <span class="n">scaler1</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span>
    <span class="n">y_pred_inv</span> <span class="o">=</span> <span class="n">y_pred_inv</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">n_steps_out</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">y_pred_inv</span> <span class="o">=</span> <span class="n">y_pred_inv</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">y_pred_inv</span> <span class="p">,</span> <span class="n">dataset_test_y</span> <span class="p">,</span> <span class="n">past_data</span>

<span class="c1"># Calculate MAE and RMSE</span>
<span class="k">def</span> <span class="nf">evaluate_prediction</span><span class="p">(</span><span class="n">predictions</span><span class="p">,</span> <span class="n">actual</span><span class="p">,</span> <span class="n">model_name</span> <span class="p">,</span> <span class="n">start</span> <span class="p">,</span> <span class="n">end</span><span class="p">):</span>
    <span class="n">errors</span> <span class="o">=</span> <span class="n">predictions</span> <span class="o">-</span> <span class="n">actual</span>
    <span class="n">mse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">rmse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mse</span><span class="p">)</span>
    <span class="n">mae</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test Data from </span><span class="si">{}</span><span class="s2"> to </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean Absolute Error: </span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mae</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Root Mean Square Error: </span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">rmse</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># Plot history and future</span>
<span class="k">def</span> <span class="nf">plot_multistep</span><span class="p">(</span><span class="n">history</span><span class="p">,</span> <span class="n">prediction1</span> <span class="p">,</span> <span class="n">groundtruth</span> <span class="p">,</span> <span class="n">start</span> <span class="p">,</span> <span class="n">end</span><span class="p">):</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

    <span class="n">y_mean</span> <span class="o">=</span> <span class="n">mean</span><span class="p">(</span><span class="n">prediction1</span><span class="p">)</span>

    <span class="n">range_history</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">history</span><span class="p">)</span>
    <span class="n">range_future</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">range_history</span><span class="p">,</span> <span class="n">range_history</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">prediction1</span><span class="p">)))</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">range_history</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">history</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;History&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">range_future</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">prediction1</span><span class="p">),</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Forecasted with LSTM&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">range_future</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">groundtruth</span><span class="p">),</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;GroundTruth&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Test Data from </span><span class="si">{}</span><span class="s2"> to </span><span class="si">{}</span><span class="s2"> , Mean = </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">y_mean</span><span class="p">)</span> <span class="p">,</span>  <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time step&#39;</span> <span class="p">,</span>  <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;y-value&#39;</span> <span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Terakhir, kita akan memplot grafik dengan menggunakan fungsi plot_multistep . Cukup masukkan past_data, hasil perkiraan, dan groundtruth.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot history and future</span>
<span class="k">def</span> <span class="nf">plot_multistep</span><span class="p">(</span><span class="n">history</span><span class="p">,</span> <span class="n">prediction1</span> <span class="p">,</span> <span class="n">groundtruth</span> <span class="p">,</span> <span class="n">start</span> <span class="p">,</span> <span class="n">end</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    <span class="n">y_mean</span> <span class="o">=</span> <span class="n">mean</span><span class="p">(</span><span class="n">prediction1</span><span class="p">)</span>
    <span class="n">range_history</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">history</span><span class="p">)</span>
    <span class="n">range_future</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">range_history</span><span class="p">,</span> <span class="n">range_history</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">prediction1</span><span class="p">)))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">range_history</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">history</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;History&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">range_future</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">prediction1</span><span class="p">),</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Forecasted with LSTM&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">range_future</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">groundtruth</span><span class="p">),</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;GroundTruth&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Test Data from </span><span class="si">{}</span><span class="s2"> to </span><span class="si">{}</span><span class="s2"> , Mean = </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">y_mean</span><span class="p">)</span> <span class="p">,</span>  <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time step&#39;</span> <span class="p">,</span>  <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;y-value&#39;</span> <span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Untuk setiap kumpulan data uji, 120 hingga 180 dan 180 hingga 240 akan menjadi data pengujian yang akan dimasukkan ke dalam model yang dilatih.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span><span class="mi">60</span><span class="p">):</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">i</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">n_steps_in</span>
    <span class="n">last</span> <span class="o">=</span> <span class="n">end</span> <span class="o">+</span> <span class="n">n_steps_out</span>
    <span class="n">y_pred_inv</span> <span class="p">,</span> <span class="n">dataset_test_y</span> <span class="p">,</span> <span class="n">past_data</span> <span class="o">=</span> <span class="n">prep_data</span><span class="p">(</span><span class="n">x1_test_scaled</span> <span class="p">,</span> <span class="n">x2_test_scaled</span><span class="p">,</span> <span class="n">x3_test_scaled</span> <span class="p">,</span> <span class="n">y_test</span> <span class="p">,</span> <span class="n">start</span> <span class="p">,</span> <span class="n">end</span> <span class="p">,</span> <span class="n">last</span><span class="p">)</span>
    <span class="n">evaluate_prediction</span><span class="p">(</span><span class="n">y_pred_inv</span> <span class="p">,</span> <span class="n">dataset_test_y</span><span class="p">,</span> <span class="s1">&#39;LSTM&#39;</span> <span class="p">,</span> <span class="n">start</span> <span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">plot_multistep</span><span class="p">(</span><span class="n">past_data</span> <span class="p">,</span> <span class="n">y_pred_inv</span> <span class="p">,</span> <span class="n">dataset_test_y</span> <span class="p">,</span> <span class="n">start</span> <span class="p">,</span> <span class="n">end</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 306ms/step
Test Data from 120 to 180
Mean Absolute Error: 0.11
Root Mean Square Error: 0.12


<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step
Test Data from 180 to 240
Mean Absolute Error: 0.07
Root Mean Square Error: 0.09
</pre></div>
</div>
<img alt="../_images/917603fd1349e141ddbbf35550afef8da0aeae2dace78766a3042e710d63f26e.png" src="../_images/917603fd1349e141ddbbf35550afef8da0aeae2dace78766a3042e710d63f26e.png" />
<img alt="../_images/e9dec2583b9db814cf58d4623a0c2136387753346d746f969406d86ac0a405b4.png" src="../_images/e9dec2583b9db814cf58d4623a0c2136387753346d746f969406d86ac0a405b4.png" />
</div>
</div>
<section id="save-load-model">
<h2>Save &amp; Load Model<a class="headerlink" href="#save-load-model" title="Link to this heading">#</a></h2>
<p>Langkah selanjutnya adalah melakukan deployment menggunakan model terbaik, dari skenario yang saya lakukan model LSTM dengan menggunakan Multivariate dan Multi-Step ini memiliki nilai error yang paling sedikit, sehingga model ini akan saya simpan dan akan saya gunakan untuk deployment nantinya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_url</span> <span class="o">=</span> <span class="s1">&#39;/content/drive/MyDrive/PSD/model/lstm-multistep-multivariate.h5&#39;</span>
<span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">model_url</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Saved&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING:absl:You are saving your model as an HDF5 file via `model.save()` or `keras.saving.save_model(model)`. This file format is considered legacy. We recommend using instead the native Keras format, e.g. `model.save(&#39;my_model.keras&#39;)` or `keras.saving.save_model(model, &#39;my_model.keras&#39;)`. 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Saved
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_url</span> <span class="o">=</span> <span class="s1">&#39;/content/drive/MyDrive/PSD/model/lstm-multistep-multivariate.h5&#39;</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">model_url</span><span class="p">,</span> <span class="n">custom_objects</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mse&#39;</span><span class="p">:</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">losses</span><span class="o">.</span><span class="n">MeanSquaredError</span><span class="p">()})</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded&quot;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING:absl:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Loaded
</pre></div>
</div>
<div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-weight: bold">Model: "sequential"</span>
</pre>
</div><div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Layer (type)                         </span>┃<span style="font-weight: bold"> Output Shape                </span>┃<span style="font-weight: bold">         Param # </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━┩
│ lstm (<span style="color: #0087ff; text-decoration-color: #0087ff">LSTM</span>)                          │ (<span style="color: #00d7ff; text-decoration-color: #00d7ff">None</span>, <span style="color: #00af00; text-decoration-color: #00af00">60</span>, <span style="color: #00af00; text-decoration-color: #00af00">50</span>)              │          <span style="color: #00af00; text-decoration-color: #00af00">10,800</span> │
├──────────────────────────────────────┼─────────────────────────────┼─────────────────┤
│ lstm_1 (<span style="color: #0087ff; text-decoration-color: #0087ff">LSTM</span>)                        │ (<span style="color: #00d7ff; text-decoration-color: #00d7ff">None</span>, <span style="color: #00af00; text-decoration-color: #00af00">50</span>)                  │          <span style="color: #00af00; text-decoration-color: #00af00">20,200</span> │
├──────────────────────────────────────┼─────────────────────────────┼─────────────────┤
│ dense (<span style="color: #0087ff; text-decoration-color: #0087ff">Dense</span>)                        │ (<span style="color: #00d7ff; text-decoration-color: #00d7ff">None</span>, <span style="color: #00af00; text-decoration-color: #00af00">30</span>)                  │           <span style="color: #00af00; text-decoration-color: #00af00">1,530</span> │
├──────────────────────────────────────┼─────────────────────────────┼─────────────────┤
│ activation (<span style="color: #0087ff; text-decoration-color: #0087ff">Activation</span>)              │ (<span style="color: #00d7ff; text-decoration-color: #00d7ff">None</span>, <span style="color: #00af00; text-decoration-color: #00af00">30</span>)                  │               <span style="color: #00af00; text-decoration-color: #00af00">0</span> │
└──────────────────────────────────────┴─────────────────────────────┴─────────────────┘
</pre>
</div><div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-weight: bold"> Total params: </span><span style="color: #00af00; text-decoration-color: #00af00">32,532</span> (127.08 KB)
</pre>
</div><div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-weight: bold"> Trainable params: </span><span style="color: #00af00; text-decoration-color: #00af00">32,530</span> (127.07 KB)
</pre>
</div><div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-weight: bold"> Non-trainable params: </span><span style="color: #00af00; text-decoration-color: #00af00">0</span> (0.00 B)
</pre>
</div><div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-weight: bold"> Optimizer params: </span><span style="color: #00af00; text-decoration-color: #00af00">2</span> (12.00 B)
</pre>
</div></div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="deployment-in-huggingface-co">
<h1>Deployment In <a class="reference external" href="http://Huggingface.co">Huggingface.co</a><a class="headerlink" href="#deployment-in-huggingface-co" title="Link to this heading">#</a></h1>
<section id="link-https-huggingface-co-spaces-riskinass10-prediksi-saham">
<h2>Link : <a class="reference external" href="https://huggingface.co/spaces/riskinass10/prediksi-saham">https://huggingface.co/spaces/riskinass10/prediksi-saham</a><a class="headerlink" href="#link-https-huggingface-co-spaces-riskinass10-prediksi-saham" title="Link to this heading">#</a></h2>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./tugas4"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../tugas3/main.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Proyek Sains Data - Univariate Single-Step</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Proyek Sains Data - Multivariate Multistep</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-harga-saham">Prediksi Harga Saham</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">DATA UNDERSTANDING</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#requirement">Requirement</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-data">Load Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-data">Deskripsi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#penjelasan-fitur">Penjelasan Fitur</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda">EDA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exploratory-data-analysis-eda-secara-cepat-menggunakan-perpustakaan-pandas-profiling">Exploratory Data Analysis (EDA) secara cepat menggunakan perpustakaan Pandas Profiling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengecek-beberapa-baris-pertama-dataset">Mengecek Beberapa Baris Pertama Dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengecek-format-kolom">Mengecek Format Kolom</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengganti-nama-kolom">Mengganti Nama Kolom</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-jumlah-data-yang-hilang-missing-value">Menghitung Jumlah Data yang Hilang (Missing Value)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#statistik-deskriptif">Statistik Deskriptif</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengkonversi-tanggal">Mengkonversi Tanggal</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengekstrak-tahun-dari-kolom-tanggal">Mengekstrak Tahun Dari Kolom Tanggal</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-jumlah-data-berdasarkan-tahun">Visualisasi Jumlah Data Berdasarkan Tahun</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-rata-rata-data-berdasarkan-tahun">Visualisasi Rata-Rata Data Berdasarkan Tahun</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-jumlah-volume-untuk-tiap-tahunnya">Visualisasi Jumlah Volume Untuk Tiap Tahunnya</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proses-konvert-kolom-vol-menjadi-float">Proses Konvert Kolom Vol. Menjadi Float</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#korelasi-koefisien">Korelasi Koefisien</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preprocessing">Data Preprocessing</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#imputasi-missing-value">Imputasi Missing Value</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-baris-data-yang-memiliki-missing-value">Menampilkan baris data yang memiliki missing value</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-kolom-yang-memiliki-missing-value">Menampilkan kolom yang memiliki missing value</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-total-missing-value-per-kolom">Menampilkan total missing value per kolom</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-persentase-missing-value-per-kolom">Menampilkan persentase missing value per kolom</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#litwise-deletion">Litwise Deletion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rumus-dasar">Rumus Dasar:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#intuisi">Intuisi:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghapus-baris-yang-memiliki-missing-value">Menghapus baris yang memiliki missing value</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cek-data-yang-ganda">Cek Data yang ganda</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#definisi-kolom">Definisi Kolom</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scale-fitur-data">Scale Fitur Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rumus-minmaxscaler">Rumus MinMaxScaler</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#splitting-dataset">Splitting Dataset</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rumus">Rumus</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diberikan">Diberikan:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proses">Proses:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Intuisi:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modeling">Modeling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menggunakan-lstm">Menggunakan LSTM</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lstm-long-short-term-memory"><strong>LSTM (Long Short-Term Memory)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#komponen-utama">Komponen Utama:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rumus-lstm">Rumus LSTM:</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#forget-gate-f-t">1. Forget Gate ((f_t)):</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#input-gate-i-t-dan-candidate-cell-state-tilde-c-t">2. Input Gate ((i_t)) dan Candidate Cell State <span class="math notranslate nohighlight">\(((\tilde{C}_t))\)</span>:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cell-state-c-t">3. Cell State ((C_t)):</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#output-gate-o-t">4. Output Gate ((o_t)):</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#hidden-state-h-t">5. Hidden State ((h_t)):</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#penjelasan">Penjelasan:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagram-aliran-lstm">Diagram Aliran LSTM:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi">Evaluasi</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#save-load-model">Save &amp; Load Model</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deployment-in-huggingface-co">Deployment In Huggingface.co</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#link-https-huggingface-co-spaces-riskinass10-prediksi-saham">Link : https://huggingface.co/spaces/riskinass10/prediksi-saham</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>